{"ast":null,"code":"import { Observable } from 'rxjs';\nimport { UntypedFormControl, UntypedFormGroup } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"./../services/questions.service\";\nimport * as i4 from \"./../services/reponses.service\";\nimport * as i5 from \"../services/themes.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../jouer/jouer.component\";\nfunction JeuComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"ul\", 6)(2, \"li\", 7)(3, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_6_Template_a_click_3_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.triSelect(2));\n    });\n    i0.ɵɵtext(4, \"Sel et Poivre\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"li\", 7)(6, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_6_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.triSelect(1));\n    });\n    i0.ɵɵtext(7, \"Nuggets\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"li\", 7)(9, \"a\", 8);\n    i0.ɵɵlistener(\"click\", function JeuComponent_div_6_Template_a_click_9_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.triSelect(3));\n    });\n    i0.ɵɵtext(10, \"L'addition\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction JeuComponent_section_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"input\", 14);\n    i0.ɵɵelementStart(2, \"label\", 15)(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const t_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"value\", t_r8.id_theme);\n    i0.ɵɵpropertyInterpolate(\"id\", t_r8.id_theme);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", t_r8.id_theme);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(t_r8.libelle);\n  }\n}\nfunction JeuComponent_section_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 9)(1, \"form\", 10);\n    i0.ɵɵlistener(\"ngSubmit\", function JeuComponent_section_9_Template_form_ngSubmit_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.triSelectBis());\n    });\n    i0.ɵɵtemplate(2, JeuComponent_section_9_div_2_Template, 5, 4, \"div\", 11);\n    i0.ɵɵelementStart(3, \"button\", 12)(4, \"span\");\n    i0.ɵɵtext(5, \"Envoyer !\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.paramPartieValeur);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.listeThemeSelect);\n  }\n}\nfunction JeuComponent_app_jouer_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-jouer\", 16);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"tabQ\", ctx_r2.tabQuestionsLive)(\"categorie\", ctx_r2.categorie);\n  }\n}\nexport let JeuComponent = /*#__PURE__*/(() => {\n  class JeuComponent {\n    constructor(http, router, questionsService, reponsesService, themeService) {\n      this.http = http;\n      this.router = router;\n      this.questionsService = questionsService;\n      this.reponsesService = reponsesService;\n      this.themeService = themeService;\n      this.tabQuestions = new Observable();\n      this.tabQuestionsLive = [];\n      this.estTrie = false;\n      this.tab = [];\n      this.timeLeft = 60;\n      this.categorie = 0;\n      this.nbQuestions = 10;\n      this.paramPartie = false;\n      this.tabQuestionRetourne = [];\n      this.listeTheme = [];\n      this.listeThemeSelect = [];\n      this.themePossible = [];\n      this.paramPartieValeur = new UntypedFormGroup({\n        theme: new UntypedFormControl()\n      });\n      this.choixCat = 0;\n    }\n    triSelect(id) {\n      this.choixCat = id;\n      this.estTrie = true;\n      let tab = [];\n      this.questionsService.recupQuestions(id).subscribe(value => {\n        tab = value;\n        for (const q of tab) {\n          if (this.themePossible.indexOf(q.id_theme) == -1) {\n            this.themePossible.push(q.id_theme);\n          }\n        }\n        let randNumber;\n        for (let i = 0; i < 4; i++) {\n          randNumber = Math.random() * this.themePossible.length - 1;\n          randNumber = Math.ceil(randNumber);\n          this.listeThemeSelect = [];\n          this.themeService.getTheme(this.themePossible[randNumber]).subscribe(value => {\n            this.listeThemeSelect.push(value[0]);\n            console.log(value[0]);\n          });\n          this.themePossible.splice(this.themePossible.indexOf(this.themePossible[randNumber]), 1);\n        }\n      });\n    }\n    triSelectBis() {\n      this.paramPartie = true;\n      this.categorie = this.choixCat;\n      this.tabQuestions = this.questionsService.recupQuestionsTheme(this.paramPartieValeur.value.theme);\n      this.estTrie = true;\n      this.tabQuestions.subscribe(value => {\n        this.tabQuestionsLive = value;\n      });\n    }\n    retourneQuestion() {\n      let randNumber = 0;\n      const questionsChoisi = [];\n      for (let i = 0; i < this.nbQuestions; i++) {\n        randNumber = Math.random() * this.tabQuestionsLive.length - 1;\n        randNumber = Math.ceil(randNumber);\n        questionsChoisi.push(this.tabQuestionsLive[randNumber]);\n        const index = this.tabQuestionsLive.indexOf(this.tabQuestionsLive[randNumber]);\n        this.tabQuestionsLive.splice(index, 1);\n      }\n      this.tabQuestionRetourne = questionsChoisi;\n    }\n    ngOnInit() {\n      this.themeService.getThemes().subscribe(value => {\n        this.listeTheme = value;\n        let randNumber;\n        const tabThemeSelect = [];\n        for (let i = 0; i < 4; i++) {\n          randNumber = Math.random() * this.listeTheme.length - 1;\n          randNumber = Math.ceil(randNumber);\n          tabThemeSelect.push(this.listeTheme[randNumber]);\n        }\n      });\n    }\n  }\n  JeuComponent.ɵfac = function JeuComponent_Factory(t) {\n    return new (t || JeuComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.QuestionsService), i0.ɵɵdirectiveInject(i4.ReponsesService), i0.ɵɵdirectiveInject(i5.ThemesService));\n  };\n  JeuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: JeuComponent,\n    selectors: [[\"app-jeu\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[1, \"dashboard_title\"], [4, \"ngIf\"], [\"src\", \"../../assets/images/Group 39.png\", \"alt\", \"burger illustration\", 1, \"imgBurger\"], [\"src\", \"../../assets/images/soda-svgrepo-com 1.png\", \"alt\", \"soda illustration\", 1, \"imgSoda\"], [\"class\", \"choiceTheme\", 4, \"ngIf\"], [3, \"tabQ\", \"categorie\", 4, \"ngIf\"], [1, \"dashboard_grid\"], [1, \"grid_elt\"], [1, \"elt_cat\", 3, \"click\"], [1, \"choiceTheme\"], [1, \"choiceTheme_content\", 3, \"formGroup\", \"ngSubmit\"], [\"class\", \"content_elt\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"submitTheme\"], [1, \"content_elt\"], [\"type\", \"radio\", \"formControlName\", \"theme\", \"name\", \"themeBtn\", 3, \"value\", \"id\"], [3, \"for\"], [3, \"tabQ\", \"categorie\"]],\n    template: function JeuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"main\")(1, \"section\")(2, \"h1\", 0);\n        i0.ɵɵtext(3, \"Choix du\");\n        i0.ɵɵelement(4, \"br\");\n        i0.ɵɵtext(5, \"mode de jeu\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, JeuComponent_div_6_Template, 11, 0, \"div\", 1);\n        i0.ɵɵelement(7, \"img\", 2)(8, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, JeuComponent_section_9_Template, 6, 2, \"section\", 4);\n        i0.ɵɵtemplate(10, JeuComponent_app_jouer_10_Template, 1, 2, \"app-jouer\", 5);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", !ctx.estTrie);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.estTrie && !ctx.paramPartie);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.estTrie && ctx.paramPartie);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.RadioControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.FormGroupDirective, i7.FormControlName, i8.JouerComponent],\n    styles: [\".imgBurger[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.imgSoda[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0}.dashboard_title[_ngcontent-%COMP%]{position:relative;margin:.25em auto;font-family:var(--main-font);font-size:clamp(62px,10vw,96px);line-height:clamp(64px,10vw,86px);color:#fff;max-width:700px;text-align:center;z-index:2}.dashboard_grid[_ngcontent-%COMP%]{display:flex;margin:0em 15vw;font-size:clamp(64px,5vw,72px);font-family:var(--second-font);flex-wrap:wrap;justify-content:center;gap:0em}.grid_elt[_ngcontent-%COMP%]{position:relative;display:inline-block;height:300px;width:clamp(454.07px,5vw,508.51px);border-radius:45px;filter:grayscale(75%);transition:filter .5s ease-in-out}.grid_elt[_ngcontent-%COMP%]:hover{filter:grayscale(0%)}.grid_elt[_ngcontent-%COMP%]:after{content:\\\"\\\";position:absolute;width:92.5%;height:95%;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:45px}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(n){transform:translate(-10%,12%) rotate(-12.5deg);z-index:1;background-color:var(--yellow-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(n):after{background-color:var(--yellow2-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(2n){z-index:3;transform:translateY(15%) rotate(15deg);background-color:var(--red-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(2n):after{background-color:var(--red2-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(3n){transform:translate(-5%,-10%) rotate(5deg);z-index:2;background-color:var(--blue-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(3n):after{background-color:var(--blue2-color)}.elt_cat[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1em;text-align:center;text-transform:uppercase;color:#fff;z-index:1}@media only screen and (max-width: 724px) and (orientation: portrait){.dashboard_grid[_ngcontent-%COMP%]{margin:0}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(n){transform:rotate(-12.5deg);z-index:1}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(2n){z-index:3;transform:rotate(15deg);background-color:var(--red-color)}.dashboard_grid[_ngcontent-%COMP%]   .grid_elt[_ngcontent-%COMP%]:nth-child(3n){transform:rotate(5deg);z-index:2;background-color:var(--blue-color)}}.choiceTheme[_ngcontent-%COMP%]{width:100%;font-size:clamp(62px,4vw,96px);margin:.5em 0;background-color:red}.choiceTheme_content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative}.content_elt[_ngcontent-%COMP%]{position:relative;width:50%;height:clamp(350px,15vw,500px)}.choiceTheme_content[_ngcontent-%COMP%]   .content_elt[_ngcontent-%COMP%]:nth-child(1){background-color:var(--red-color)}.choiceTheme_content[_ngcontent-%COMP%]   .content_elt[_ngcontent-%COMP%]:nth-child(2){background-color:var(--purple-color)}.choiceTheme_content[_ngcontent-%COMP%]   .content_elt[_ngcontent-%COMP%]:nth-child(3){background-color:var(--blue-color)}.choiceTheme_content[_ngcontent-%COMP%]   .content_elt[_ngcontent-%COMP%]:nth-child(4){background-color:var(--yellow-color)}.content_elt[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:relative;color:#00000080;text-align:center;font-family:var(--second-font);text-transform:uppercase;display:inline-block;width:100%;height:100%}.content_elt[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:checked{background-color:#000}.content_elt[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);line-height:1}.content_elt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.content_elt[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff}.content_elt[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:checked{color:red;pointer-events:pointer}.submitTheme[_ngcontent-%COMP%]{position:absolute;top:52.5%;left:50%;background-color:#48a051;color:#fff;padding:25px .5em;border:none;font-family:var(--second-font);font-size:clamp(62px,10vw,96px);transform:translate(-50%,-50%) rotate(2.5deg);box-shadow:10px 5px 5px #00000040}.submitTheme[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;transform:rotateZ(-2 5deg)}\"]\n  });\n  return JeuComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}